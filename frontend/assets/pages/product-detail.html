<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Product Details - Digital Garden</title>
    <link rel="stylesheet" href="/frontend/assets/css/style.css" />
    <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;500;600;700;800&family=Plus+Jakarta+Sans:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="page-wrapper">
        
        <header class="header">
            <div class="container header-content">
                <a href="shop.html" class="logo">
                    <img src="img/fulllogo-transparent-nobuffer-1-1.png" alt="Digital Garden Logo" />
                </a>
                
                <nav class="nav">
                    <a href="shop.html" class="nav-link">Shop</a>
                    <a href="#" class="nav-link">Veggie Plots</a>
                    <a href="#" class="nav-link">About</a>
                    <a href="#" class="nav-link">Contact</a>
                </nav>

                <div class="header-actions">
                    <button class="btn-icon cart-btn">
                        <img src="img/vector-19.svg" alt="Cart" />
                    </button>
                    <button class="btn-icon user-btn">
                        <img src="img/vector-18.svg" alt="User" />
                    </button>
                </div>
            </div>
        </header>

        <main class="main-content container">
            
            <section class="product-hero">
                <div class="product-gallery">
                    <div class="main-image">
                        <img id="detailImage" src="" alt="Product Image" style="width:100%; height:100%; object-fit:cover;" />
                    </div>
                    <div class="thumbnail-list">
                        <img src="img/vector-21.svg" class="thumb active" />
                        <img src="img/vector-5.svg" class="thumb" />
                        <img src="img/vector-20.svg" class="thumb" />
                    </div>
                </div>

                <div class="product-info">
                    <h1 id="detailName" class="product-title">Loading...</h1>
                    
                    <p id="detailDesc" class="product-desc">
                        Creating your product content...
                    </p>
                    
                    <div class="product-price-wrapper">
                        <span id="detailPrice" class="price-current">--</span>
                    </div>

                    <div class="product-meta">
                        <div class="quantity-control">
                            <span class="label">จำนวน:</span>
                            <div class="quantity-input">
                                <button>-</button>
                                <input type="text" value="1" readonly>
                                <button>+</button>
                            </div>
                        </div>
                        <p class="stock-status">In Stock - Ships in 24 hours</p>
                    </div>

                    <div class="product-actions">
                        <button class="btn btn-primary add-to-cart">
                            <img src="img/vector-7.svg" alt="Cart Icon" />
                            Add to Cart
                        </button>
                        <button class="btn btn-outline wishlist">
                            <img src="img/vector.svg" alt="Heart Icon" />
                        </button>
                    </div>

                    <div class="product-tabs">
                        <div class="tab active">Description</div>
                        <div class="tab">Reviews</div>
                    </div>
                </div>
            </section>

            <section class="related-products">
                <h2 class="section-title">You Might Also Like</h2>
                <div class="product-grid">
                    <div class="product-card">
                         </div>
                </div>
            </section>

        </main>

        <footer class="footer">
             <div class="container footer-content">
                <p style="text-align:center; width:100%;">© 2024 Digital Garden</p>
             </div>
        </footer>

    </div>

    <script src="/frontend/assets/js/products.js"></script>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // ดึง ID จาก URL (เช่น ?id=watering_can)
            const params = new URLSearchParams(window.location.search);
            const productId = params.get('id');

            // ตรวจสอบว่า products.js ถูกโหลดมาหรือไม่
            if (typeof allProducts === 'undefined') {
                console.error("หาไฟล์ products.js ไม่เจอ! ตรวจสอบ path ให้ถูกต้อง");
                return;
            }

            // ค้นหาสินค้า
            const product = allProducts[productId];

            if (product) {
                // ถ้าเจอสินค้า ให้เปลี่ยนข้อมูลในหน้าเว็บ
                document.getElementById('detailName').innerText = product.name;
                document.getElementById('detailPrice').innerText = "$" + product.price.toFixed(2);
                document.getElementById('detailDesc').innerText = product.desc;
                document.getElementById('detailImage').src = product.image;
                document.title = product.name + " - Digital Garden"; // เปลี่ยนชื่อ Tab Browser
            } else {
                // ถ้าไม่เจอสินค้า (หรือไม่ได้ส่ง ID มา)
                document.querySelector('.product-info').innerHTML = "<h1>ไม่พบสินค้า</h1><p>ขออภัย สินค้านี้อาจถูกลบไปแล้ว</p><a href='shop.html'>กลับไปหน้าสินค้า</a>";
                document.querySelector('.main-image').style.display = 'none';
            }
        });
    </script>
</body>
</html>